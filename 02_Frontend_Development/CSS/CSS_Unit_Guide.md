# CSS 单位选择指南：px, em, rem, %, vw/vh

## 核心问题：我应该用哪个单位？

CSS 提供了多种单位来定义尺寸和距离。选择正确的单位，对于构建可维护、可访问、响应式的 Web 应用至关重要。我们可以将它们分为两大类：**绝对单位**和**相对单位**。

---

### 1. 绝对单位 (Absolute Units)

#### `px` (Pixel - 像素)
- **是什么:** 像素是屏幕上的一个“点”，是一个固定的、绝对的单位。
- **优点:** 精确、可预测。`16px` 在任何地方都是 `16px`。
- **缺点:** 无法随用户偏好（如浏览器调整默认字号）而缩放，对**可访问性 (Accessibility)** 不友好。
- **✅ 何时使用:**
    - 当你需要一个**绝对固定**、不希望它缩放的尺寸时。
    - 最常见的场景：设置边框宽度 `border: 1px solid black;`，或者精细的阴影偏移 `box-shadow: 2px 2px 4px black;`。
- **❌ 何时避免:**
    - **绝对不要**用 `px` 来定义**字体大小 (font-size)**。

---

### 2. 相对单位 (Relative Units)

相对单位的值是根据另一个值来计算的，这让它们变得灵活和强大。

#### A. 字体相对单位 (Font-Relative)

#### `rem` (Root EM) - **你的黄金首选**
- **是什么:** 相对于**根元素 (`<html>`)** 的 `font-size` 进行计算。浏览器默认的根 `font-size` 通常是 `16px`，所以 `1rem` 默认等于 `16px`。
- **优点:**
    1.  **全局一致性:** `2rem` 在页面的任何地方，计算出来的值都是一样的，非常稳定和可预测。
    2.  **可访问性:** 当用户在浏览器中调整默认字体大小时，所有用 `rem` 定义的尺寸（字体、间距、宽度）都会**等比例缩放**，提供绝佳的可访问性。
- **✅ 何时使用:**
    - **几乎所有地方！** 这是现代 CSS 开发中最常用、最推荐的单位。
    - `font-size`, `margin`, `padding`, `width`, `height`... 只要你希望这个尺寸能保持一致性并能响应用户的字体大小设置，就用 `rem`。

#### `em`
- **是什么:** 相对于**父元素**的 `font-size` 进行计算。
- **优点:** 可以让一个组件内部的某些元素，跟随该组件的字体大小进行缩放。
- **缺点:** **“层层叠加”** 问题。如果在多个嵌套的元素上都使用 `em`，它的最终计算值可能会变得混乱且难以预测 (e.g., `1.2em` 内部的 `1.2em` 会是 `1.44em`)。
- **✅ 何时使用:**
    - 当一个元素的尺寸**必须**和它直属的父元素的字体大小挂钩时。例如，一个按钮文字旁边的图标，它的 `width: 1.5em;` 可以确保图标永远是文字大小的1.5倍。
- **❌ 何时避免:**
    - 在整个网站范围内定义间距和布局时。对于这些场景，`rem` 是更好的选择。

#### B. 父容器相对单位 (Parent-Relative)

#### `%` (百分比)
- **是什么:** 相对于**父元素**的尺寸进行计算。`width: 50%` 表示宽度是父元素宽度的一半。
- **✅ 何时使用:**
    - 用于**流式布局 (Fluid Grids)**。比如创建两列布局，每一列 `width: 50%`。
    - 当一个元素的尺寸需要明确地是其容器尺寸的一部分时。

#### C. 视口相对单位 (Viewport-Relative)

#### `vw` / `vh`
- **是什么:** 相对于**浏览器视口 (Viewport)** 的尺寸。`1vw` = 1%的视口宽度，`1vh` = 1%的视口高度。
- **✅ 何时使用:**
    - 当你需要一个元素的尺寸**直接与浏览器窗口大小**挂钩时。
    - 经典场景：创建一个 `height: 100vh;` 的全屏欢迎页。
- **❌ 何时避免:**
    - **不适合**用来定义元素与视口边缘的**“安全间距”**。如此前讨论，`padding: 2vw;` 在不同屏幕比例下会产生不均衡的间距。这种场景用 `rem` 更合适。

---

## 总结：一份决策流程

当你不确定用哪个单位时，可以参考以下流程：

1.  这个尺寸需要绝对固定吗 (比如 `1px` 的边框)？
    - **是** -> 使用 `px`。
2.  这个尺寸需要相对于浏览器**窗口**的大小吗 (比如全屏封面)？
    - **是** -> 使用 `vw` / `vh`。
3.  这个尺寸需要相对于**父容器**的大小吗 (比如 50% 宽度的列)？
    - **是** -> 使用 `%`。
4.  对于其他所有情况（字体大小、内外边距、组件尺寸等），**默认使用 `rem`**。
5.  只有当你需要一个尺寸与**它所在组件的字体大小**紧密联动时，才考虑使用 `em`。